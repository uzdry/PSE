Component diagram 2

@startuml

abstract class Message {
	id: MessageID
	+delete()
}

class SensorValueMessage {
	value: float
}

class GraphicalStatisticMessage {
	statistic: Statistic
}

class DashboardConfigMessage {
	dashboardConfig: DashboardConfig
}

Message <|-- SensorValueMessage
Message <|-- GraphicalStatisticMessage
Message <|-- DashboardConfigMessage

interface BusAccess {
	bus: MessageBus
	recieveQueue: List<Message>
	+subscribe(subscriber: this, id: MessageID)
	+unsubscribe(subscriber: this, id: MessageID)
	+publish(message: Message)
	+handleMessage(message: Message)
	+getSubscriptions()
	-createMessage()
}

class Broker {
	bus: MessageBus
	subscriptions: (hashed) Array of Lists of Subscribed Objects
	+getSubscriptions(id: MessageID)
	+getSubscriptions(object: BusAccess)
	+subscribe(object: BusAccess, id: MessageID)
	+unsubscribe(object: BusAccess, id: MessageID)
}

class MessageBus {
	broker: Broker
	messageQueue: List<Message>
	+handleMessage(message: Message)
	-distribute(message: Message)
}

MessageBus "1"--"1" Broker

@enduml