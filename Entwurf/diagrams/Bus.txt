Component diagram 2

@startuml

abstract class Message {
	TopicID: Integer
	+delete()
}

class SensorValueMessage {
	value: float
}

class GraphicalStatisticMessage {
	statistic: Statistic
}

class DashboardConfigMessage {
	dashboardConfig: DashboardConfig
}

Message <|-- SensorValueMessage
Message <|-- GraphicalStatisticMessage
Message <|-- DashboardConfigMessage

interface BusAccess {
	bus: MessageBus
	recieveQueue: List<Message>
	+publish(message: Message)
	+handleMessage(message: Message)
	+getSubscriptions()
	-createMessage()
}

class Broker {
	subscriptions: [hashed] Array of Lists of Subscribed Objects
	+getSubscriptions(TopicID: Integer)
	+getSubscriptions(object: BusAccess)
	+subscribe(object: BusAccess, TopicID: Integer)
	+unsubscribe(object: BusAccess, TopicID: Integer)
}

class MessageBus {
	messageQueue: List<Message>
	+getBroker()
	+handleMessage(message: Message)
	-distribute(message: Message)
}

MessageBus "1"--"1" Broker

@enduml