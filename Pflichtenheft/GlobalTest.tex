\documentclass[pflichtenheft.tex]{subfiles}

\begin{document}

\chapter{Globale Testfälle}

\renewcommand{\theenumi}{/GT\ifnum \value{enumi}<10 0\fi\arabic{enumi}0/}
\renewcommand{\labelenumi}{\theenumi}
\renewcommand{\theenumii}{\arabic{enumii}}
\renewcommand{\labelenumii}{GT\ifnum \value{enumi}<10 0\fi\arabic{enumi}\arabic{enumii}/}

\textbf{Globale Vorbedingungen:}
\begin{itemize}
\item
Die Zündung ist an.
\item
Der Server läuft.
\end{itemize}

\begin{enumerate}

\item{\textbf{Erstanmeldung}} \label{firstLoginT} \\ 
Ablauf: Ein Endgerät verbindet sich zum ersten Mal mit dem Server. Es wird überprüft ob die Signatur des Endgeräts in die Datenbank hinzugefügt wurde.

\item{\textbf{Erneute Anmeldung}} \label{repLoginT} \\
Vorbedingung: Das Endgerät hatte sich bereits einmal mit dem Server verbunden, ist aktuell jedoch getrennt.\\
Ablauf: Das Endgerät verbindet sich mit dem Server. Es wird überprüft ob automatisch die Daten der passenden Signatur geladen werden.

\item{\textbf{Fahreranmeldung}} \label{regDriverT} \\
Ablauf: Ein Endgerät verbindet sich mit dem Server. Es wird als Gerät des Fahrers identifiziert. Es wird überprüft, ob die anschließend gespeicherten Daten mit der Signatur des neuen Fahrers abgelegt werden.

\item{\textbf{Fahrerwechsel}} \label{changeDriverT} \\
Ablauf: Ein Endgerät verbindet sich mit dem Server. Es wird als Gerät des Fahrers identifiziert. Es verbindet sich ein zweites Endgerät und meldet sich als Fahrer an. Es wird überprüft, ob die anschließend gespeicherten Daten mit der Signatur des neuen Fahrers und nur der Signatur des neuen Fahrers abgelegt werden.

\item{\textbf{Instrumente anzeigen}} \label{showDashesT} \\
Vorbedingung: Ein Endgerät ist mit dem Server verbunden. \\
Ablauf: Alle verfügbaren Instrumente werden auf dem Endgerät ein- und ausgeblendet und kombiniert. Es wird auf korrekte Auflistung der Dashes im Bezug auf die vorhandenen Sensoren geprüft.

\item{\textbf{Aggregierte Funktionen}} \label{calcAggDataT} \\
Vorbedingung: Ein Endgerät ist mit dem Server verbunden. \\ 
Ablauf: Es werden vom Server verschiedene aggregierte Funktionen berechnet. Diese werden dann mit händisch berechneten Werten verglichen.

\item{\textbf{Smartphone Utilization}} \\
Vorbedingung: Die Sensoren des Endgeräts sind aktiviert. \\
Ablauf: Es werden die Sensorwerte vom Endgerät auf dem Server gesendet. Dann wird überprüft ob der Server die Daten empfangen und gespeichert hat, und ob diese von Software bearbeitet werden.

\item{\textbf{Fahrinformationen darstellen}} \label{showDataT} \\
Ablauf: Es werden neue Sensordaten zur Datenbank hinzugefügt. Dann werden diese auf dem Endgerät angezeigt.

\item{\textbf{Protokoll führen und Daten anzeigen}} \label{liveDataT} \\
Vorbedingung: Das Auto fährt. \\
Ablauf: Das Auto fährt und erzeugt Daten. Die Daten werden im Endgerät auf allen Instrumenten live und auf Abruf angezeigt. Es wird auf Konsistenz und ausreichend kleine Latenz geprüft. Datenausfälle werden simuliert. Die Datenbank wird auf korrekte Einträge überprüft.

\item{\textbf{Maximale Kapazität prüfen}} \label{maxCapT} \\
Vorbedingung: keine weiteren Vorbedingungen erforderlich \\
Ablauf: Die Default-Kapazität auf dem Endgerät wird geprüft. Es wird eine neue Default-Kapazität gesetzt. Mit dem Auto werden Daten erzeugt, bis die Datenbank bis zum Grenzwert gefüllt ist. Es wird überprüft, ob das Datenlimit eingehalten wurde und ob, nur wie spezifiziert, die ältesten Daten gelöscht wurden. Die Datenbank wird auf Konsistenz und korrektes Löschen aller Daten geprüft.

\item{\textbf{Remote Access}} \label{remoteAccessT} \\
Vorbedingung: Keine weiteren Vorbedingungen erforderlich. \\
Ablauf: Ein entferntes Endgerät wird mit dem Server verbunden. Anzeigen und Ausblenden von Instrumenten und Anzeige von Daten wird getested und die Anmeldung überprüft.

\item{\textbf{Einparken vereinfachen}} \label{parkenT} \\
Vorbedingung: Der Nutzer ruft die Einparkhilfe-Funktion auf. \\
Ablauf: Das Bild der Rückfahrkamera mit der aktuellen Fahrspur wird angezeigt. Der Fahrer bewegt das Auto. Es wird geprüft, ob das Bild regelmäßig aktualisiert wird.

\item{\textbf{Ultraschallsensoren visualisieren}} \label{ultraT} \\
Vorbedingung: Der Nutzer ruft die Einparkhilfe-Funktion auf. \\
Ablauf: Das Bild der Kamera mit den Distanzwerten der Ultraschallsensoren (~\ref{ultrasound}) wird angezeigt.

\item{\textbf{Einparkhilfe beenden}} \label{endParkenT} \\
Vorbedingung: Einparkhilfe ist angezeigt. \\
Ablauf: Der Fahrer fährt mit entsprechder Geschwindigkeit (~\ref{quit:passist}) vorwärts. Es wird überprüft, ob die Einparkhilfe ausgeblendet wird.

\item{\textbf{Karte anzeigen}} \label{showMapT} \\ 
Vorbedingung: Ein Endgerät mit Lokalisierungsinformatonen ist mit dem
Server verbunden.\\
Ablauf: Der Benutzer fordert den Kartendienst an. Es wird überprüft, ob die Umgebungskarte angezeigt wird.

\item{\textbf{Tankstellen auflisten}} \label{showFuelT} \\
Vorbedingung: Ein Endgerät, das über den aktuellen Standort verfügt, ist mit dem Server verbunden.\\
Ablauf: Der Fahrer fährt mit dem Auto bei niedrigem Tankfüllstand. Es wird überprüft, ob eine Liste der Tankstellen in der Umgebung angezeigt und die Tankstellen auf der Karte markiert werden. 

\end{enumerate}

\chapter{Testszenarien}

\renewcommand{\theenumi}{\ifnum \value{enumi}<10 0\fi\arabic{enumi}}
\renewcommand{\labelenumi}{\theenumi}
\renewcommand{\theenumii}{\arabic{enumii}}
\renewcommand{\labelenumii}{\ifnum \value{enumi}<10 0\fi\arabic{enumi}\arabic{enumii}}

\section{Allgemeiner Funktionstest}
\begin{enumerate}
\item
Bob, ein Diplominformatiker der Schwäbischen Hochschule für Informationstechnologie setzt sich in seinen Mittelklassewagen. 
\item
Er schaltet die Zündung an und verbindet sein Smartphone mit dem Server. 
\item
Bob öffnet  zum ersten mal die Software im Browser seines Smartphones.  (~\ref{firstLoginT})
\item
Er identifiziert sich als Fahrer (~\ref{regDriverT})
\item
und startet den Motor, sobald er seine Dashes ausgewählt hat und die Dashes angezeigt werden. (~\ref{showDashesT})
\item
Ihm werden nun die aktuellen Sensorwerte angezeigt. (~\ref{showDataT})
\item
Weil Bob versucht spritsparend zu fahren, lässt sich er sich unter anderem die Durchschnittsgeschwindigkeit anzeigen. (~\ref{liveDataT})
\item
Während der Fahrt sinkt der Tankfüllstand unter den definierten Wert.
\item
 Darauf öffnet Bob mit dem Druck auf das Tank-Icon die Karte, (~\ref{showMapT})
\item
wählt die nächste Tankstelle aus und bekommt diese dann auf der Karte angezeigt. Er tankt und setzt sich wieder in das Auto. (~\ref{showFuelT})
\item
Bob schaltet die Zündung wieder an, das Smartphone verbindet sich mit dem Netzwerk und der Diplominformatiker startet die Software. (~\ref{repLoginT})
\item
Da vor ihm noch ein Auto steht, muss Bob erst einmal etwas nach hinten fahren. Dazu wechselt er in den Rückfahrkameramodus der Software und sieht über die Kamera, wie weit er noch nach hinten fahren kann. (~\ref{parkenT}, ~\ref{ultraT})
\item
Nachdem er die Tankstelle verlassen hat und wieder schneller fährt beendet sich die Einparkhilfe automatisch. (~\ref{endParkenT}) Irgendwann kommt Bob dann an seiner Hochschule an, schaltet den Motor ab und verlässt sein Auto. 
\item
Auf der Fahrt nach Hause, bei der Bob sich wieder mit dem Server, holt er unterwegs seine Schwester von der Arbeit ab. Da sie erst vor kurzem ihren Führerschein gemacht hat, lässt er sie den Rest der Strecke fahren. Sie verbindet ihr Smartphone mit dem Server und meldet sich als neuen Fahrer an. (~\ref{changeDriverT})
\item
Bob, der auf seinem eigenen Smartphone die Fahrtdaten beobachtet, schaut sich den durchschnittlichen Benzinverbrauch an, um das Fahrverhalten seiner Schwester beurteilen zu können. (~\ref{calcAggDataT})
\end{enumerate}
\section{Remote Test}
\begin{enumerate}
  \item 
  Alice, Bobs Frau traut ihm nicht ganz und hat sich, nachdem sie von diesem neuen Gerät gehört hat, sofort mit Bobs Auto verbunden. (~\ref{repLoginT})
  \item  Während Bob gerade auf dem Weg zu seiner Hochschule ist, schaut sich Alice die Daten der vergangenen Fahrt an. (~\ref{remoteAccessT})
  \item Um Bob länger ausspionieren zu können, setzt sie die maximale Kapazität der Aufzeichnungen auf den Höchstwert, da die Daten der vorletzten Fahrt bereits gelöscht waren. (~\ref{maxCapT})
\end{enumerate}
\end{document}