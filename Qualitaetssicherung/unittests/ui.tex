\documentclass[qualitaetssicherung.tex]{subfiles}

\begin{document}

\section{UI}

	\subsection*{Allgemeine Schwierigkeiten}
		Mehrere der genutzten Bibliotheken stellen eine Erweiterung von JQuery dar. Diese Erweiterung scheint jedoch nicht mit Karma zu funktionieren. Ohne Karma treten diese Probleme nicht auf.

	\subsection{Datamodel Werte nicht definiert}
		\begin{itemize}
			\item
			Symptom: Error: "topic is undefined" beim Erstellen eines Datenmodells
			\item
			Grund: Bei einem undefinierten Signalname versucht der PostalBus auf null zu subscriben. Dies warf natürlich einen Error.
			\item
			Behebung: Überprüfe vor subscribe auf 'undefined'
		\end{itemize}
		
	\subsection{Grid nicht zerstörbar}
		\begin{itemize}
			\item
			Symptom: Beim Löschen des HTML-Elements und erneuten erzeugen treten Fehler im Hinzufügen von Widgets auf. 
			\item
			Grund: Das Grid selbst wird nicht gelöscht. Nur die Stelle an der es angezeigt wird, wird gelöscht.
			\item
			Behebung: Zerstöre auch das Grid
		\end{itemize}
		
	\subsection{Gauge Widget highlights fehlen}
	\begin{itemize}
		\item
		Symptom: Beim Erzeugen von verschiedenen Gauges gibt es einen Fehler, dass "high" nicht definiert sei.
		\item
		Grund: Manchmal fehlen die highlights in der signals.xml. Dort fehlen dann auch die ticks.
		\item
		Behebung: Überprüfe die Werte und setze sie zur Not auf Standartwerte. Diese Standartwerte sind in der Datei einstellbar.
	\end{itemize}	
	
	\subsection{signals.xml finden}
	\begin{itemize}
		\item
		Symptom: In den Tests wird die signals.xml Datei nicht gefunden.
		\item
		Grund: Der Pfad der signals.xml war relativ zu dashboard.js.
		\item
		Behebung: Der Pfad wurde auf relativ zum root-Verzeichnis des Projektes gewählt.
	\end{itemize}	
	
	\subsection{Erster Wert in Gauges}
	\begin{itemize}
		\item
		Symptom: Die Gauges zeigen bis zum ersten Update eines Wertes die falschen Werte an.
		\item
		Grund: Beim erstellen des Widgets wird der aktuelle Wert nicht in das Gauge geschrieben.
		\item
		Behebung: Schreibe den aktuellen Wert bei der Initialisierung in das Gauge.
	\end{itemize}	
	
	\subsection{Chrome leert Array}
	\begin{itemize}
		\item
		Symptom: Beim Erstellen eines Widgets kann die Konfiguration davon nicht finden. Dieses Problem tritt nur mit Chrome auf.
		\item
		Grund: Unbekannt | Das Array wird nach dem erstellen irgendwie geleert.
		\item
		Behebung: Das Array mit den Konfigurationen ist jetzt statisch. Das bedeutet jedoch auch, dass Signalkonfigurationen in allen WidgetFactories gleich sind. 
	\end{itemize}	
	
	\subsection{Leeres Grid nicht serializable}
	\begin{itemize}
		\item
		Symptom: Ein leeres Grid hat nur "]" als Rückgabewert bei der serialize-Funktion.
		\item
		Grund: Die For-Schleife berücksichte keine leeren Arrays.
		\item
		Behebung: Bei einem leeren Array "[]" zurückgeben. 
	\end{itemize}	
	
\subsection*{Resultate / Statistiken}
	Hier sind die Testresultate der UI-Elemente zu sehen.
	Man muss beachten, dass dies wirklich nur die Unit-Tests beinhaltet. Die Coverage von Manuellen Tests ist dabei nicht mitinbegriffen. Diese sind vor allem bei den UserInterface-Tests jedoch ein maßgeblicher Teil.
	Ein weiteres Problem ist, dass durch das Compilen von Typescript-Code in Javascript-Code am Anfang der Datei nötige jedoch nicht von Jasmine genutzte Zeilen stehen die im Coverage auch nicht berücksichtigt werden.
	\begin{center}
		\begin{tabular}{| l | l | l | l | l |}
			\hline
			Dateiname & Abdeckung & Jasmine Expects & Code LOC & Spec LOC\\ \hline
			Map 			&  60\% & 24 & 160 & 162\\ \hline
			dashboard 		&  50\% & 265 & 397 & 612 \\ \hline
			dataCollection 	&  74\% & 61 & 107 & 137\\ \hline
			dataModel    	&  79\% & 61 & 107 & 137\\ \hline
			grid		 	&  47\% & 61 & 107 & 137\\ \hline
			widget		 	&  81\% & 61 & 107 & 137\\ \hline
			widgetFactory 	&  93\% & 61 & 107 & 137\\ \hline
			lineChartWidget &  89\% & 61 & 107 & 137\\ \hline
			percentGaugeWidget 	&  90\% & 61 & 107 & 137\\ \hline
			speedGaugeWidget 	&  90\% & 61 & 107 & 137\\ \hline
			textWidget  	& 100\% & 61 & 107 & 137\\ \hline
			\hline
		\end{tabular}
	\end{center}
	
\end{document}